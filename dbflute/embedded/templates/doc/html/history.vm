<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>${database.projectName} schema</title>
  <style type="text/css">
	* {
		margin: 0;
		padding: 0;
	}
	body {
		font-family: Verdana, "Hiragino Kaku Gothic Pro", "ヒラギノ角ゴ Pro W3", Meiryo, "メイリオ", "MS P Gothic", "MS Pゴシック", sans-serif;
		font-size: 90%;
		margin: 10px 5px 5px 15px;
		background-color: #ffffe0;
	}

	/* heading */
	h1 {
		font-size: 1.5em;
		border-bottom: 2px solid #af0000;
		border-top: 2px solid #af0000;
	}
	h2 {
		margin: 30px 0 5px 0;
		font-size: 1.8em;
		border-bottom: 2px solid #af0000;
		border-left: 10px solid #af0000;
		text-indent: 10px;
	}
	h3 {
		padding: 0 0 0 10px;
		margin: 1em 10% 0 0;
		border-top: double 3px #af0000;
		border-bottom: solid 1px #333333;
		font-size: 1.5em;
		color: #333333;
	}
	h4 {
 		padding: 0 0 0 10px;
		margin: 1em 10% 0 1em;
		border-top: solid 1px #af0000;
		border-bottom: solid 1px #af0000;
		font-size: 1.4em;
		color: #333333;
	}

	/* total info */
	.updatedate {
		text-align: right;
	}
	.mainschema {
		text-align: right;
	}
	.sublink {
		text-align: right;
	}

	/* table */
	table {
		border-collapse:collapse;
	}
	table, th {
		border: 1px solid #555;
	}
	th {
		background-color: #cc9;
		font-size: 0.8em;
	}
	td {
		border-bottom: 1px dotted #aaa;
		border-left: 1px solid #555;
		padding:2px;
	}
	.schemacell {
		font-size: 0.8em;
		white-space: nowrap;
	}
	.aliascell {
		white-space: nowrap;
	}
	.flgcell {
		text-align: center;
	}
	.flgplus {
		font-size: 0.7em;
	}
	.numcell {
		text-align: center;
	}
	.linkcell {
		font-size: 0.8em;
	}
	.commentcell {
		font-size: 0.7em;
	}
	.subcell {
		font-size: 0.8em;
	}
	.comcolcell {
		color: #666;
	}
	.optcell {
		font-style: italic;
	}
	.additionalpk {
		font-size: 0.7em;
		font-style: italic;
	}
	.additionalfk {
		font-size: 0.7em;
		font-style: italic;
	}

	/* inner table */
	table.child {
		margin: 3px;
	}
	table.child th {
		font-size: 0.7em;
	}
	table.child, table.child td, table.child th {
		border-top: none;
		border-left: none;
		border-bottom: 1px solid #aaa;
		border-right: 1px solid #aaa;
	}

	/* table supplementary info */
	span.tableschema {
		font-size: 0.6em;
	}
	span.tablecount {
		font-size: 0.5em;
	}
	dl.tablelist {
		padding-left: 2em;
	}
	dl.tablelist dt {
		display: list-item;
		font-size: 1.2em;
		margin-top: 0.3em;
	}
	dl.tablelist dd {
		font-size: 0.9em;
		padding-left: 1em;
	}
	dl.tablelist dd.subinfo {
		padding-left: 2em;
	}
	dl.tablelist dd.subinfo span.file {
		font-style: italic;
	}
	dl.tablelist dd.subinfo span.ctet {
		color: green;
	}
	dl.tablelist dd.subinfo span.pmb {
		color: green;
	}
	dl.procedurelist {
		padding-left: 2em;
	}
	dl.procedurelist dt {
		display: list-item;
		font-size: 1.2em;
		margin-top: 0.3em;
	}
	dl.procedurelist dt span.type {
		font-size: 0.7em;
		color: green;
	}
	dl.procedurelist dd {
		font-size: 0.9em;
		padding-left: 1em;
	}
	dl.procedurelist dd.column {
		font-style: italic;
		padding-left: 2em;
	}
	dl.procedurelist dd.column span.type {
		font-size: 0.9em;
		color: green;
	}
	dl.procedurelist dd.column pre {
		padding-left: 1em;
	}
  </style>
</head>

<body>
<h1>Project Schema History for ${database.projectName} (${database.databaseName})</h1>
#foreach ($schemaDiff in $database.schemaDiffList)
<h2>${schemaDiff.diffDate} (table count: ${schemaDiff.tableCount.display})</h2>
#foreach ($tableDiff in $schemaDiff.tableDiffAllList)
<h3>${tableDiff.tableName} (${tableDiff.diffType})</h3>
<dl>
#if ($tableDiff.hasUnifiedSchemaDiff())
    <dt>Schema</dt>
    <dd>${tableDiff.unifiedSchemaDiff.display}</dd>
#end
#if ($tableDiff.hasObjectTypeDiff())
    <dt>Object Type</dt>
    <dd>${tableDiff.objectTypeDiff.display}</dd>
#end
#if ($tableDiff.hasColumnDiff())
    <dt>Column</dt>
    <dd>
        <dl>
#foreach ($columnDiff in $tableDiff.columnDiffAllList)
            <dt>${columnDiff.columnName} (${columnDiff.diffType})</dt>
            <dd>
                <dl>
#if ($columnDiff.hasDbTypeDiff())
                    <dt>DB Type</dt>
                    <dd>${columnDiff.dbTypeDiff.display}</dd>
#end
#if ($columnDiff.hasColumnSizeDiff())
                    <dt>Column Size</dt>
                    <dd>${columnDiff.columnSizeDiff.display}</dd>
#end
                </dl>
            </dd>
#end
        </dl>
    </dd>
#end
</dl>
#end
#end
</body>
</html>
