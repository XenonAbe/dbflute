${database.allClassCopyright}package ${glPackageBaseCommonSqlClause};

import ${glPackageBaseCommon}.${glDBCurrent};
import ${glPackageBaseCommon}.${glDBDef};
import ${glPackageBaseCommonDBMeta}.${glDBMetaInstanceHandler};
import ${glPackageBaseCommonDBMeta}.${glDBMetaProvider};
import ${glPackageBaseCommonCBean}.${glConditionBeanInterfaceName};

/**
 * The creator of SQL clause.
 * @author ${database.ClassAuthor}
 */
public class ${glSqlClauseCreatorImpl} implements ${glSqlClauseCreator} {

	/**
	 * Create SQL clause. {for condition-bean}
	 * @param cb Condition-bean. (NotNull) 
	 * @return SQL clause. (NotNull)
	 */
    public ${glSqlClauseName} createSqlClause(${glConditionBeanInterfaceName} cb) {
        final String tableSqlName = cb.getTableSqlName();
		final ${glSqlClauseName} sqlClause = createSqlClause(tableSqlName);
        return sqlClause;
    }

	/**
	 * Create SQL clause.
	 * @param tableDbName The DB name of table. (NotNull) 
	 * @return SQL clause. (NotNull)
	 */
    public ${glSqlClauseName} createSqlClause(String tableDbName) {
        ${glDBMetaProvider} dbmetaProvider = new ${glDBMetaInstanceHandler}();
        if (isCurrentDBDef(${glDBDef}.MySQL)) {
            return new ${glSqlClauseName}MySql(tableDbName).provider(dbmetaProvider);
        } else if (isCurrentDBDef(${glDBDef}.PostgreSQL)) {
            return new ${glSqlClauseName}PostgreSql(tableDbName).provider(dbmetaProvider);
        } else if (isCurrentDBDef(${glDBDef}.Oracle)) {
            return new ${glSqlClauseName}Oracle(tableDbName).provider(dbmetaProvider);
        } else if (isCurrentDBDef(${glDBDef}.DB2)) {
            return new ${glSqlClauseName}Db2(tableDbName).provider(dbmetaProvider);
        } else if (isCurrentDBDef(${glDBDef}.SQLServer)) {
            return new ${glSqlClauseName}SqlServer(tableDbName).provider(dbmetaProvider);
        } else if (isCurrentDBDef(${glDBDef}.FireBird)) {
            return new ${glSqlClauseName}Firebird(tableDbName).provider(dbmetaProvider);
        } else if (isCurrentDBDef(${glDBDef}.H2)) {
            return new ${glSqlClauseName}H2(tableDbName).provider(dbmetaProvider);
        } else if (isCurrentDBDef(${glDBDef}.Derby)) {
            return new ${glSqlClauseName}Derby(tableDbName).provider(dbmetaProvider);
        } else {
            return new ${glSqlClauseName}${database.generateDbName}(tableDbName).provider(dbmetaProvider);
        }
    }

    protected boolean isCurrentDBDef(${glDBDef} currentDBDef) {
	    return ${glDBCurrent}.getInstance().isCurrentDBDef(currentDBDef);
    }
}
