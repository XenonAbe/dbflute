<project name="DBFluteRuntime" default="dist" basedir=".">

  <property name="version" value="0.9.0"/>
  <property name="build.version" value="0.9.0-1-SNAPSHOT"/>

  <target name="dist">

    <echo message="+------------------------------------------+"/>
    <echo message="|                                          |"/>
    <echo message="| Generating dist for YOUR project!        |"/>
    <echo message="|                                          |"/>
    <echo message="+------------------------------------------+"/>

    <delete file="../dbflute/dist/dbflute-runtime-*.jar"/>
    <copy file="target/dbflute-runtime-${build.version}.jar"
    	  tofile="../dbflute/dist/dbflute-runtime-${version}.jar"
    	  overwrite="true"/>
    <copy file="target/dbflute-runtime-${build.version}-sources.jar"
    	  tofile="../dbflute/dist/dbflute-runtime-${version}-sources.jar"
    	  overwrite="true"/>
  </target>

  <target name="reflect-mac-all">

    <echo message="+------------------------------------------+"/>
    <echo message="|                                          |"/>
    <echo message="| Reflecting library to all projects!      |"/>
    <echo message="|                                          |"/>
    <echo message="+------------------------------------------+"/>

    <delete file="../dbflute-basic-example/lib/dbflute-runtime-*.jar"/>
    <copy file="../dbflute/dist/dbflute-runtime-${version}.jar"
    	  tofile="../dbflute-basic-example90/lib/dbflute-runtime-${version}.jar"
    	  overwrite="true"/>
    <copy file="../dbflute/dist/dbflute-runtime-${version}-sources.jar"
    	  tofile="../dbflute-basic-example90/lib/sources/dbflute-runtime-${version}-sources.jar"
    	  overwrite="true"/>

    <delete file="../dbflute-spring-example/lib/dbflute-runtime-*.jar"/>
    <copy file="../dbflute/dist/dbflute-runtime-${version}.jar"
    	  tofile="../dbflute-spring-example/lib/dbflute-runtime-${version}.jar"
    	  overwrite="true"/>
    <copy file="../dbflute/dist/dbflute-runtime-${version}-sources.jar"
    	  tofile="../dbflute-spring-example/lib_sources/dbflute-runtime-${version}-sources.jar"
    	  overwrite="true"/>

    <delete file="../dbflute-lucy-example/lib/dbflute-runtime-*.jar"/>
    <copy file="../dbflute/dist/dbflute-runtime-${version}.jar"
    	  tofile="../dbflute-lucy-example/lib/dbflute-runtime-${version}.jar"
    	  overwrite="true"/>
    <copy file="../dbflute/dist/dbflute-runtime-${version}-sources.jar"
    	  tofile="../dbflute-lucy-example/lib/sources/dbflute-runtime-${version}-sources.jar"
    	  overwrite="true"/>
  	
    <delete file="../dbflute-ymir-example/src/main/webapp/WEB-INF/lib/dbflute-runtime-*.jar"/>
    <copy file="../dbflute/dist/dbflute-runtime-${version}.jar"
    	  tofile="../dbflute-ymir-example/src/main/webapp/WEB-INF/lib/dbflute-runtime-${version}.jar"
    	  overwrite="true"/>
    <copy file="../dbflute/dist/dbflute-runtime-${version}-sources.jar"
    	  tofile="../dbflute-ymir-example/lib/sources/dbflute-runtime-${version}-sources.jar"
    	  overwrite="true"/>
  </target>

  <!--
  <target name="clean">
    <delete dir="target/classes"/>
    <mkdir dir="target/classes"/>
  </target>
  -->

  <!--
  <target name="copy-resources">
    <copy todir="target/classes">
      <fileset dir="src/main/java">
        <exclude name="**/*.java"/>
      </fileset>
      <fileset dir="src/main/resources">
        <exclude name="**/*.java"/>
      </fileset>
    </copy>
  </target>
  -->

  <!--
  <target name="compile" depends="clean, copy-resources" description="==> compiles sources">

    <javac destdir="target/classes" encoding="UTF-8" debug="true">
      <src path="src/main/java" />
      <src path="src/main/resources" />
      <classpath>
        <fileset dir="lib">
          <include name="**/*.jar" />
        </fileset>
      </classpath>
      <include name="**/*"/>
      <compilerarg value="-Xlint:deprecation" />
      <compilerarg value="-Xlint:unchecked" />
    </javac>
  </target>
  -->

</project>
